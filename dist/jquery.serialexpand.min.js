/*!
 * jQuery serialexpand
 * https://github.com/kevinmeunier/jquery-serialexpand
 *
 * Copyright 2022 Meunier KÃ©vin
 * https://www.meunierkevin.com
 *
 * Released under the MIT license
 */
!function(e){"use strict";e.serialexpand=function(t){const n=e.extend({},e.serialexpand.defaults,t),s=e(n.selector),i=this;return e.extend(this,{init:function(){e("body").on("change.serialexpand",":radio, :checkbox, select",i.handleEvent);const t=n.fxOut;n.fxOut="hide",s.filter(":radio, :checkbox").trigger("change.serialexpand"),s.filter("option").each(function(){const t=e(this),s=n.getTarget(t);if(t.is(":selected")){const e=t.closest("select");i.setCurrent(e[0],s)}else s[n.fxOut]()}),n.fxOut=t},handleEvent:function(){0!=i.isAccepted(this)&&i.handleDisplay(this)},handleDisplay:function(t){let s,c,r=e(t);switch(t.type){case"radio":s=c=r.is(":checked");break;case"checkbox":c=r.is(":checked"),s=!1;break;case"select-one":r=r.find(":selected"),s=c=!0}const a=n.getTarget(r);if(1==s){let e=i.getCurrent(t);e&&e[n.fxOut](),e=!!c&&a,i.setCurrent(t,e)}a[c?n.fxIn:n.fxOut]()},setCurrent:function(t,n){const s=t.form?t.form:document.body;e.data(s,t.name,n)},getCurrent:function(t){const n=t.form?t.form:document.body;return e.data(n,t.name)},isAccepted:function(t){const s=e(t);if(s.is(n.selector))return!0;if(s.is("select"))return!!s.find(n.selector).length;const i=s.attr("name");return!!e("input[name="+i+"]").filter(n.selector).length}}),this.init(),this},e.serialexpand.defaults={selector:void 0,fxIn:"slideDown",fxOut:"slideUp",getTarget:function(t){const n=t.attr("data-serialexpand");return e('[data-serialexpand-target="'+n+'"]')}}}(jQuery);
